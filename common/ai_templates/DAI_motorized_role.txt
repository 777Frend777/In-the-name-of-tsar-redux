generic_motorized_role = {
	roles = { motorized }
	upgrade_prio = {
		factor = 100
	}
	match_to_count = 0.9
	
	GENERIC_MOTORIZED_TEMPLATE_30 = {
		enable = { 
			NOT = {
				OR = {
					num_of_military_factories < 20
					has_tech = mechanised_infantry
				}					
			}
		}
		production_prio = { factor = 100 }
		upgrade_prio = { factor = 100 }

	# TEMPLATE
		
		column_swap_factor = 20
		reinforce_prio = 1
		
		# workaround for a PDX bug https://forum.paradoxplaza.com/forum/threads/hoi-4-incremental-division-upgrade-does-not-work-in-most-cases.1414193/
		can_upgrade_in_field = { always = no }
		
		target_template = {
			weight = 1
			match_value = 5000

			regiments = {
				motorized = 10
				mot_artillery_brigade = 3
				mot_anti_tank_brigade = 1
			}

			support = {
				engineer = 1
				mot_recon = 1
				signal_company = 1
				anti_air = 1
				logistics_company = 1
				artillery = 1
				anti_tank = 1
				maintenance_company = 1
				signal_company = 1
				rocket_artillery = 1
				field_hospital = 1
			}
		}

		allowed_types = {
			# REGIMENTS
			motorized
			mot_artillery_brigade
			mot_anti_tank_brigade

			# SUPPORT
			engineer 
			mot_recon 
			artillery 
			anti_tank 
			logistics_company 
			anti_air 
			maintenance_company 
			signal_company 
			rocket_artillery 
			field_hospital 
		}
	}

	GENERIC_MECHANIZED_TEMPLATE_30 = {
		enable = { 
			num_of_military_factories > 39
			has_tech = mechanised_infantry
		}
		production_prio = { factor = 100 }
		upgrade_prio = { factor = 100 }
		

	# TEMPLATE
		
		target_width = 30
		width_weight = 3
		column_swap_factor = 0.01
		reinforce_prio = 2
		
		# workaround for a PDX bug https://forum.paradoxplaza.com/forum/threads/hoi-4-incremental-division-upgrade-does-not-work-in-most-cases.1414193/
		can_upgrade_in_field = { always = no }

		target_template = {
			weight = 1
			match_value = 5000

			regiments = {
				mechanized = 10
				mot_artillery_brigade = 3
				mot_anti_air_brigade = 1
			}

			support = {
				engineer = 1
				armored_car_recon = 1
				signal_company = 1
				anti_tank = 1
				logistics_company = 1
				anti_air = 1
				maintenance_company = 1
				artillery = 1
				rocket_artillery = 1
				field_hospital = 1
			}
		}

		allowed_types = {
			# REGIMENTS
			mechanized
			mot_artillery_brigade 
			mot_anti_air_brigade

			# SUPPORT
			engineer 
			armored_car_recon 
			signal_company 
			anti_tank 
			logistics_company 
			anti_air 
			maintenance_company 
			artillery 
			rocket_artillery 
			field_hospital 
		}
	}
}