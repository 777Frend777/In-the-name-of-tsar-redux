add_namespace = RMN
add_namespace = rmnelection

# situation in the country zheltorossiya
country_event = {
    id = RMN.1
    title = RMN.1.t
    desc = RMN.1.d
    picture = GFX_report_event_generic_north_east_map

    is_triggered_only = yes

    option = {
        name = RMN.1.a
        add_stability = -0.1
        add_war_support = -0.2
    }
}

# Calm people down
country_event = {
    id = RMN.2
    title = RMN.2.t
    desc = RMN.2.d
    picture = GFX_report_event_BEL_Protest

    is_triggered_only = yes

    # Calm people down with military
    option = {
        hidden_effect = {
            complete_national_focus = RMN_is_diterhis_alive
        }
        name = RMN.2.a
        add_stability = -0.2
        add_war_support = -0.05
        add_ideas = {
            DON_martial_law
        }
        complete_national_focus = RMN_voennoe_polozenie
    }

    # Try to calm people peacefully
    option = {
        name = RMN.2.b
        RMN = { country_event = RMN.3 }
    }
}

# diterikhs got killed
country_event = {
    id = RMN.3
    title = RMN.3.t
    desc = RMN.3.d
    picture = GFX_report_event_AST_protest1

    is_triggered_only = yes

    option = {
        name = RMN.3.a
        unlock_national_focus = RMN_voennoe_polozenie
        RMN = {
            kill_country_leader = yes
        }
        complete_national_focus = RMN_diterhis_got_killed
    }
}

# what next? focus
country_event = {
    id = RMN.4
    title = RMN.4.t
    desc = RMN.4.d
    picture = GFX_report_event_RUS_intro

    is_triggered_only = yes

    option = {
        name = RMN.4.a
        add_stability = 0.2
        add_war_support = 0.1
    }
}

# civil war start
country_event = {
    id = RMN.5
    title = RMN.5.t
    desc = RMN.5.d
    picture = GFX_report_event_generic_riot2

    is_triggered_only = yes

    option = {
        name = RMN.5.a
        custom_effect_tooltip = RMN_civil_war_start_tt
        hidden_effect = {
            RUS = {
                remove_from_faction = RMN
            }
            RUS = {
                set_autonomy = {
                    target = RMN
                    autonomous_state = autonomy_free
                    end_wars = no
                    end_civil_wars = no
                }
            }
            MAN = {    
                declare_war_on = {
                    target = RMN
                    type = annex_everything
                }
                declare_war_on = {
                    target = GMC
                    type = annex_everything
                }
                transfer_state = 716
                transfer_state = 328
                transfer_state = 717
                transfer_state = 973
                transfer_state = 974
                add_state_core = 973
                add_state_core = 974
                add_state_core = 716
                add_state_core = 328
                add_state_core = 717
            }
            GMC = {
                transfer_state = 610
                transfer_state = 715
                add_state_core = 610
                add_state_core = 715
                declare_war_on = {
                    target = RMN
                    type = annex_everything
                }
                declare_war_on = {
                    target = MAN
                    type = annex_everything
                }
            }
            every_state = {
    limit = { is_core_of = MAN } 
    add_core_of = RMN 
}
            every_state = {
    limit = { is_core_of = MAN } 
    add_core_of = GMC 
}
            every_state = {
    limit = { is_core_of = RMN } 
    add_core_of = GMC 
}
            GMC = {
                load_oob = "GMC_1936"
            }
            MAN = {
                load_oob = "MAN_1936"
            }
            RMN = {
                declare_war_on = {
                    target = MAN
                    type = annex_everything
                }
                load_oob = "RMN_collapse"
            }
            GMC = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
            }
            MAN = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
            }
            RMN = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
            }
            complete_national_focus = RMN_save_zheltorossiya
        }
    }
    option = {
        name = RMN.5.b
        custom_effect_tooltip = RMN_civil_war_start_tt
        hidden_effect = {
            RUS = {
                remove_from_faction = RMN
            }
            RUS = {
                set_autonomy = {
                    target = RMN
                    autonomous_state = autonomy_free
                    end_wars = no
                    end_civil_wars = no
                }
            }
            MAN = {    
                declare_war_on = {
                    target = RMN
                    type = annex_everything
                }
                declare_war_on = {
                    target = GMC
                    type = annex_everything
                }
                transfer_state = 716
                transfer_state = 328
                transfer_state = 717
                transfer_state = 973
                transfer_state = 974
                add_state_core = 973
                add_state_core = 974
                add_state_core = 716
                add_state_core = 328
                add_state_core = 717
            }
            GMC = {
                transfer_state = 610
                transfer_state = 715
                add_state_core = 610
                add_state_core = 715
                declare_war_on = {
                    target = RMN
                    type = annex_everything
                }
                declare_war_on = {
                    target = MAN
                    type = annex_everything
                }
                change_tag_from = RMN
            }
            every_state = {
    limit = { is_core_of = MAN } 
    add_core_of = RMN 
}
            every_state = {
    limit = { is_core_of = MAN } 
    add_core_of = GMC 
}
            every_state = {
    limit = { is_core_of = RMN } 
    add_core_of = GMC 
}
            GMC = {
                load_oob = "GMC_1936"
            }
            MAN = {
                load_oob = "MAN_1936"
            }
            RMN = {
                declare_war_on = {
                    target = MAN
                    type = annex_everything
                }
                load_oob = "RMN_collapse"
            }
            GMC = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
            }
            MAN = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
            }
            RMN = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
                country_event = {
                    id = RMN.7
                    days = 3
                }
            }
        }
    }
    option = {
        name = RMN.5.c
        custom_effect_tooltip = RMN_civil_war_start_tt
        hidden_effect = {
            RUS = {
                remove_from_faction = RMN
            }
            RUS = {
                set_autonomy = {
                    target = RMN
                    autonomous_state = autonomy_free
                    end_wars = no
                    end_civil_wars = no
                }
            }
            MAN = {    
                declare_war_on = {
                    target = RMN
                    type = annex_everything
                }
                declare_war_on = {
                    target = GMC
                    type = annex_everything
                }
                transfer_state = 716
                transfer_state = 328
                transfer_state = 717
                transfer_state = 973
                transfer_state = 974
                add_state_core = 973
                add_state_core = 974
                add_state_core = 716
                add_state_core = 328
                add_state_core = 717
                change_tag_from = RMN
            }
            GMC = {
                transfer_state = 610
                transfer_state = 715
                add_state_core = 610
                add_state_core = 715
                declare_war_on = {
                    target = RMN
                    type = annex_everything
                }
                declare_war_on = {
                    target = MAN
                    type = annex_everything
                }
            }
            every_state = {
    limit = { is_core_of = MAN } 
    add_core_of = RMN 
}
            every_state = {
    limit = { is_core_of = MAN } 
    add_core_of = GMC 
}
            every_state = {
    limit = { is_core_of = RMN } 
    add_core_of = GMC 
}
            GMC = {
                load_oob = "GMC_1936"
            }
            MAN = {
                load_oob = "MAN_1936"
            }
            RMN = {
                declare_war_on = {
                    target = MAN
                    type = annex_everything
                }
                load_oob = "RMN_collapse"
            }
            GMC = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
            }
            MAN = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
            }
            RMN = {
                add_ideas = {
                    SPA_death_before_surrender_capitulation
                }
                country_event = {
                    id = RMN.7
                    days = 3
                }
            }
        }
    }
}

country_event = {
    id = RMN.6
    title = RMN.6.t
    desc = RMN.6.d
    picture = GFX_report_event_RUS_army4

    is_triggered_only = yes

    option = {
        ai_chance = {
            base = 15
        }
        name = RMN.6.a
		trigger = {
            tag = RUS
        }
        send_equipment = {
            equipment = infantry_equipment
            amount = 200
            target = RMN
        }
        send_equipment = {
            equipment = artillery_equipment
            amount = 75
            target = RMN
        }
    }
    option = {
        ai_chance = {
            base = 1
        }
        name = RMN.6.b
    }
	option = {
        ai_chance = {
            base = 15
        }
        name = RMN.6.c
		trigger = {
            tag = JAP
        }
        send_equipment = {
            equipment = infantry_equipment
            amount = 200
            target = RMN
        }
        send_equipment = {
            equipment = artillery_equipment
            amount = 75
            target = RMN
        }
    }
}

country_event = {
    id = RMN.7
    title = RMN.7.t
    desc = RMN.7.d
    picture = GFX_report_event_RUS_army4

    is_triggered_only = yes

    option = {
        name = RMN.7.a
        complete_national_focus = RMN_save_zheltorossiya
    }
}

country_event = {
    id = rmnelection.1
    title = rmnelection.1.t
    desc = rmnelection.1.d
    picture = GFX_report_event_generic_north_east_map
	
	trigger = {
		has_global_flag = RMN_victory
	}
	option = {
		name = rmnelection.1.a
		log = "[GetDateText]: [Root.GetName]: Event RMN_election"
		set_variable = {
    var = RMN_loyalist_var
    value = 2
    tooltip = RMN_loyalist_var_tt
}
set_variable = {
    var = RMN_black_var
    value = 1
    tooltip = RMN_black_var_tt
}
set_variable = {
    var = RMN_eurasian_var
    value = 2
    tooltip = RMN_eurasian_var_tt
}
set_variable = {
    var = RMN_socialist_var
    value = 1
    tooltip = RMN_socialist_var_tt
}
		activate_mission = RMN_election
		activate_mission = RMN_random_popular
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = neutrality
						last_election = "[CURRENT_DATE]"
						election_frequency = 3
						elections_allowed = yes
					}
				}
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
			
		}
	}
}